(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{2732:function(e,n,r){"use strict";function t(e,n,r,t,s,i,a){try{var c=e[i](a),o=c.value}catch(l){r(l);return}c.done?n(o):Promise.resolve(o).then(t,s)}r.r(n),r.d(n,{default:function(){return _}});var s,i=r(7794),a=r.n(i),c=r(7294),o=r(8193),l=r(3854),d=r(6501),u=r(9870),p=r(6318),h="https://js.stripe.com/v3",m=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,v=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),n=0;n<e.length;n++){var r=e[n];if(m.test(r.src))return r}return null},f=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(h).concat(n);var t=document.head||document.body;if(!t)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(r),r},j=function(e,n){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.46.0",startTime:n})},x=null,y=function(e,n,r){if(null===e)return null;var t=e.apply(void 0,n);return j(t,r),t},w=Promise.resolve().then(function(){return null!==x?x:x=new Promise(function(e,n){if("undefined"==typeof window){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r=v();r||(r=f(null)),r.addEventListener("load",function(){window.Stripe?e(window.Stripe):n(Error("Stripe.js not available"))}),r.addEventListener("error",function(){n(Error("Failed to load Stripe.js"))})}catch(t){n(t);return}})}),N=!1;w.catch(function(e){N||console.warn(e)});var b=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];N=!0;var t=Date.now();return w.then(function(e){return y(e,n,t)})},g=r(5893),_=function(){var e,n,r=(0,c.useRef)(),i=(0,u.F)(),h=i.cartItems,m=i.totalPrice,v=i.totalQty,f=i.onRemove,j=i.toggleCartItemQuantity,x=(e=a().mark(function e(){var n,r,t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s||(s=b("pk_test_51LyyijHbmXqvpyhdabLroFUXoC20vyKTTJwYe0ttAyDMOh08epWVtauxKHbVLhbYxabetjuMFEu5J6UKQSJfj1ci00EEVFplZL")),s;case 2:return n=e.sent,e.next=5,fetch("/api/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});case 5:if(500!==(r=e.sent).statusCode){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.json();case 10:t=e.sent,d.ZP.loading("Redirecting..."),n.redirectToCheckout({sessionId:t.id});case 13:case"end":return e.stop()}},e)}),n=function(){var n=this,r=arguments;return new Promise(function(s,i){var a=e.apply(n,r);function c(e){t(a,s,i,c,o,"next",e)}function o(e){t(a,s,i,c,o,"throw",e)}c(void 0)})},function(){return n.apply(this,arguments)});return(0,g.jsxs)("div",{className:"cart-wrapper",ref:r,children:[(0,g.jsx)("h2",{children:"Shopping Cart"}),(0,g.jsxs)("div",{className:"cart-container",children:[(0,g.jsxs)("div",{className:"cart-items",children:[h.length<1&&(0,g.jsxs)("div",{className:"empty-cart",children:[(0,g.jsx)(o.SLZ,{size:150}),(0,g.jsx)("h1",{children:"Your shopping bag is empty"})]}),h.length>=1&&h.map(function(e){return(0,g.jsxs)("div",{className:"item-card",children:[(0,g.jsx)("div",{className:"item-image",children:(0,g.jsx)("img",{src:(0,p.u)(null==e?void 0:e.image[0]),alt:"img"})}),(0,g.jsxs)("div",{className:"item-details",children:[(0,g.jsxs)("div",{className:"name-and-remove",children:[(0,g.jsx)("h3",{children:e.name}),(0,g.jsx)("button",{type:"buttin",onClick:function(){return f(e)},className:"remove-item",children:(0,g.jsx)(l.Bhs,{size:28})})]}),(0,g.jsx)("p",{className:"item-tag",children:"Dress"}),(0,g.jsx)("p",{className:"delivery-est",children:"Delivery Estimation"}),(0,g.jsx)("p",{className:"delivery-days",children:"5 Working Days"}),(0,g.jsxs)("div",{className:"price-and-qty",children:[(0,g.jsxs)("span",{className:"price",children:["$",e.price*e.quantity]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"minus",onClick:function(){return j(e._id,"dec")},children:(0,g.jsx)(o.ywL,{})}),(0,g.jsx)("span",{className:"num",onClick:"",children:e.quantity}),(0,g.jsx)("span",{className:"plus",onClick:function(){return j(e._id,"inc")},children:(0,g.jsx)(o.Lfi,{})})]})]})]})]},e._id)})]}),h.length>=1&&(0,g.jsxs)("div",{className:"order-summary",children:[(0,g.jsx)("h3",{children:"Order Summary"}),(0,g.jsxs)("div",{className:"qty",children:[(0,g.jsx)("p",{children:"Quantity"}),(0,g.jsxs)("span",{children:[v," Product"]})]}),(0,g.jsxs)("div",{className:"subtotal",children:[(0,g.jsx)("p",{children:"Sub Total"}),(0,g.jsxs)("span",{children:["$",m]})]}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:"btn",type:"button",onClick:x,children:"Process to Checkout"})})]})]})]})}},3010:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(2732)}])}},function(e){e.O(0,[617,556,774,888,179],function(){return e(e.s=3010)}),_N_E=e.O()}]);